<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong3D Player Positioning Test</title>
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        #gameContainer { width: 800px; height: 600px; border: 1px solid #ccc; margin: 20px 0; }
        .controls { margin: 10px 0; }
        button { margin: 5px; padding: 10px 15px; font-size: 14px; }
    </style>
</head>
<body>
    <h1>Pong3D Player Info Positioning Test</h1>
    <p>Test the player info block positioning for different player counts:</p>
    
    <div class="controls">
        <button onclick="createGame(2)">2 Players</button>
        <button onclick="createGame(3)">3 Players</button>
        <button onclick="createGame(4)">4 Players</button>
        <button onclick="changePlayerCount(2)">Switch to 2</button>
        <button onclick="changePlayerCount(3)">Switch to 3</button>
        <button onclick="changePlayerCount(4)">Switch to 4</button>
    </div>
    
    <div id="gameContainer"></div>
    
    <div class="controls">
        <h3>Expected Positioning:</h3>
        <ul>
            <li><strong>2 Players:</strong> Player 1 = bottom, Player 2 = top</li>
            <li><strong>3 Players:</strong> Player 1 = bottom, Player 2 = right, Player 3 = left</li>
            <li><strong>4 Players:</strong> Player 1 = bottom, Player 2 = top, Player 3 = right, Player 4 = left</li>
        </ul>
    </div>

    <script type="module">
        import { Pong3D } from './frontend/src/game/Pong3D.js';
        
        let currentGame = null;
        
        window.createGame = function(playerCount) {
            const container = document.getElementById('gameContainer');
            
            // Dispose of existing game
            if (currentGame) {
                currentGame.dispose();
            }
            
            // Clear container
            container.innerHTML = '';
            
            // Create new game with specified player count
            currentGame = new Pong3D(container, { 
                playerCount: playerCount 
            });
            
            // Set player names for visibility
            for (let i = 0; i < playerCount; i++) {
                currentGame.setPlayerName(i, `Player ${i + 1}`);
                currentGame.setPlayerScore(i, i * 10); // Different scores for visibility
            }
            
            console.log(`Created ${playerCount}-player game`);
        };
        
        window.changePlayerCount = function(newCount) {
            if (currentGame) {
                currentGame.setActivePlayerCount(newCount);
                console.log(`Changed to ${newCount} players`);
            } else {
                console.log('No game created yet');
            }
        };
        
        // Create default 4-player game on load
        createGame(4);
    </script>
</body>
</html>
